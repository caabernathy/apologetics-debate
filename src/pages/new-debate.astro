---
import Layout from "../layouts/Layout.astro";
import { TopicSelector } from "../components/debate/TopicSelector";

// Check if user is authenticated
if (!Astro.locals.user) {
  return Astro.redirect("/");
}

const user = Astro.locals.user;
---

<Layout title="New Debate - Apologetics Debate">
  <div class="max-w-3xl mx-auto">
    <div class="mb-8">
      <h1 class="text-3xl font-bold">Start a New Debate</h1>
      <p class="text-neutral-600 mt-2">
        Choose your role and select a topic to begin your apologetics debate.
      </p>
    </div>

    <div class="card">
      <TopicSelector userId={user.id} client:load />
    </div>
  </div>
</Layout>
